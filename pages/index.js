import Head from "next/head";
import MenuItem from "@/components/common/MenuItem";
import { useTranslation } from "next-i18next";

import { serverSideTranslations } from "next-i18next/serverSideTranslations";
import Image from "next/image";

import Link from "next/link";

import { Inter } from "@next/font/google";
import LocaleSwitcher from "@/components/language-switcher";

// const inter = Inter({ subsets: ["latin"] });

export default function Home() {
  const { t } = useTranslation();

  return (
    <>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <div className="bg-red-200">
        {/* {locales.map((l) => (
            <span key={l} className="mx-5">
              <Link href={`/`} locale={l}>
                {l}
              </Link>
            </span>
          ))} */}

        <Link href={`/`} locale="fa" className="mx-5">
          <Image
            src="https://i.postimg.cc/4NgJFCQ9/iran-flag.png"
            alt="iran-flag"
            width={24}
            height={24}
          />
        </Link>
        <Link href={`/en`} locale="en" className="mx-5">
          <Image
            src="https://i.postimg.cc/DZGSLr7k/usa-flag.png"
            alt="iran-flag"
            width={24}
            height={24}
          />
        </Link>
        <Link href={`/ko`} locale="ko" className="mx-5">
          <Image
            src="https://i.postimg.cc/Y0fjyt4d/korea-flag.png"
            alt="iran-flag"
            width={24}
            height={24}
          />
        </Link>
      </div>

      <h1>{t("home:about-us")}</h1>

      <MenuItem />
    </>
  );
}

export async function getStaticProps({ locale }) {
  console.log("Locale:", locale);

  return {
    props: {
      ...(await serverSideTranslations(locale, ["home"])),
    },
  };
}
